================================================================================
FULL BACKTEST: INSTITUTIONAL CRYPTO PERP WITH PAXG (5-YEAR)
================================================================================

📋 This backtest includes ALL 4 MANDATORY components:
   1. Performance Backtest (crypto trading + PAXG)
   2. QuantStats Report
   3. Walk-Forward Validation
   4. Monte Carlo Simulation

================================================================================

📥 Downloading 11 crypto pairs...
   ✅ Successfully downloaded 11 pairs
   📊 Data points: 1827 days

🚀 Running institutional crypto perp backtest...
   📈 Calculating market regime...
   📅 2020-10-10 (0/1827): Equity=$100,000, Positions=0 crypto
   📅 2021-01-18 (100/1827): Equity=$95,402, Positions=PAXG
   📅 2021-04-28 (200/1827): Equity=$93,056, Positions=0 crypto
   📅 2021-08-06 (300/1827): Equity=$89,003, Positions=PAXG
   📅 2021-11-14 (400/1827): Equity=$93,104, Positions=0 crypto
   📅 2022-02-22 (500/1827): Equity=$99,163, Positions=PAXG
   📅 2022-06-02 (600/1827): Equity=$93,974, Positions=PAXG
   📅 2022-09-10 (700/1827): Equity=$86,871, Positions=PAXG
   📅 2022-12-19 (800/1827): Equity=$91,298, Positions=PAXG
   📅 2023-03-29 (900/1827): Equity=$95,418, Positions=1 crypto
   📅 2023-07-07 (1000/1827): Equity=$96,034, Positions=2 crypto
   📅 2023-10-15 (1100/1827): Equity=$98,536, Positions=PAXG
   📅 2024-01-23 (1200/1827): Equity=$109,073, Positions=0 crypto
   📅 2024-05-02 (1300/1827): Equity=$117,503, Positions=0 crypto
   📅 2024-08-10 (1400/1827): Equity=$116,885, Positions=PAXG
   📅 2024-11-18 (1500/1827): Equity=$142,816, Positions=2 crypto
   📅 2025-02-26 (1600/1827): Equity=$166,990, Positions=0 crypto
   📅 2025-06-06 (1700/1827): Equity=$188,088, Positions=0 crypto
   📅 2025-09-14 (1800/1827): Equity=$189,761, Positions=2 crypto

================================================================================
COMPONENT 1: PERFORMANCE BACKTEST RESULTS
================================================================================

💰 P&L:
   Initial Capital: $100,000.00
   Final Equity: $188,521.01
   Total Return: +88.52%
   Total P&L: $+88,521.01

📊 Trades:
   Total Trades: 131
   Crypto Trades: 108
   PAXG Trades: 23
   Win Rate: 61.1%
   Avg Win: $1,588.01
   Avg Loss: $-755.30

📈 Regime Performance:
   BULL_RISK_ON        :  380 days, 196 trades, P&L=$+71,959.68
   NEUTRAL             :  596 days,  16 trades, P&L=$-2,890.00
   BEAR_RISK_OFF       :  851 days,  27 trades, P&L=$+19,451.33

================================================================================
COMPONENT 2: QUANTSTATS REPORT
================================================================================

Generating QuantStats report...
✅ Report saved to: /Users/karlomarceloestrada/Documents/@Projects/05_strategy_factory/results/crypto/institutional_perp_full_report.html

📊 KEY METRICS:
   Total Return: 88.52%
   CAGR: 9.14%
   Sharpe Ratio: 0.85
   Max Drawdown: -21.66%
   Calmar Ratio: 0.42

================================================================================
COMPONENT 3: WALK-FORWARD VALIDATION
================================================================================

🚀 Running institutional crypto perp backtest...
   📈 Calculating market regime...
   📅 2020-10-10 (0/304): Equity=$100,000, Positions=0 crypto
   📅 2021-01-18 (100/304): Equity=$95,402, Positions=PAXG
   📅 2021-04-28 (200/304): Equity=$93,056, Positions=0 crypto
   📅 2021-08-06 (300/304): Equity=$89,003, Positions=PAXG

Fold 1/6: Return=-14.25%, Trades=3

🚀 Running institutional crypto perp backtest...
   📈 Calculating market regime...
   📅 2021-08-10 (0/304): Equity=$100,000, Positions=0 crypto
   📅 2021-11-18 (100/304): Equity=$107,410, Positions=PAXG
   📅 2022-02-26 (200/304): Equity=$109,158, Positions=PAXG
   📅 2022-06-06 (300/304): Equity=$106,868, Positions=PAXG

Fold 2/6: Return=+6.25%, Trades=1

🚀 Running institutional crypto perp backtest...
   📈 Calculating market regime...
   📅 2022-06-10 (0/304): Equity=$100,000, Positions=0 crypto
   📅 2022-09-18 (100/304): Equity=$89,057, Positions=PAXG
   📅 2022-12-27 (200/304): Equity=$96,152, Positions=PAXG
   📅 2023-04-06 (300/304): Equity=$101,692, Positions=2 crypto

Fold 3/6: Return=+0.99%, Trades=5

🚀 Running institutional crypto perp backtest...
   📈 Calculating market regime...
   📅 2023-04-10 (0/304): Equity=$100,000, Positions=0 crypto
   📅 2023-07-19 (100/304): Equity=$96,699, Positions=PAXG
   📅 2023-10-27 (200/304): Equity=$98,009, Positions=0 crypto
   📅 2024-02-04 (300/304): Equity=$98,009, Positions=0 crypto

Fold 4/6: Return=-1.99%, Trades=3

🚀 Running institutional crypto perp backtest...
   📈 Calculating market regime...
   📅 2024-02-08 (0/304): Equity=$100,000, Positions=0 crypto
   📅 2024-05-18 (100/304): Equity=$118,900, Positions=PAXG
   📅 2024-08-26 (200/304): Equity=$124,936, Positions=0 crypto
   📅 2024-12-04 (300/304): Equity=$142,183, Positions=2 crypto

Fold 5/6: Return=+42.18%, Trades=11

🚀 Running institutional crypto perp backtest...
   📈 Calculating market regime...
   📅 2024-12-08 (0/304): Equity=$100,000, Positions=0 crypto
   📅 2025-03-18 (100/304): Equity=$114,676, Positions=PAXG
   📅 2025-06-26 (200/304): Equity=$127,632, Positions=0 crypto
   📅 2025-10-04 (300/304): Equity=$127,632, Positions=0 crypto

Fold 6/6: Return=+27.63%, Trades=1

📈 WALK-FORWARD SUMMARY:
   Total Folds: 6
   Positive Folds: 4/6 (66.7%)
   Average Return: 10.13%
   Std Dev: 20.85%
   Best Fold: +42.18%
   Worst Fold: -14.25%
   ⚠️  Risk Assessment: GOOD - Monitor closely

✅ Walk-forward results saved to: /Users/karlomarceloestrada/Documents/@Projects/05_strategy_factory/results/crypto/institutional_perp_walkforward.csv

================================================================================
COMPONENT 4: MONTE CARLO SIMULATION
================================================================================

Trade Statistics:
   Total Trades: 131
   Winning Trades: 80 (61.1%)
   Average Win: $1,588.01
   Average Loss: $-755.30

Running 1000 Monte Carlo simulations...

🎲 MONTE CARLO RESULTS:
   Simulations: 1000
   Probability of Profit: 100.0%
   Expected Return: 89.24%
   Median Return: 88.10%
   5th Percentile: 49.32%
   95th Percentile: 133.89%
   Expected Max DD: -7.04%
   Worst Case DD: -29.52%
   ✅ Risk Assessment: EXCELLENT

✅ Monte Carlo results saved to: /Users/karlomarceloestrada/Documents/@Projects/05_strategy_factory/results/crypto/institutional_perp_montecarlo.csv

================================================================================
✅ FULL BACKTEST COMPLETE
================================================================================

📁 Results saved to:
   - /Users/karlomarceloestrada/Documents/@Projects/05_strategy_factory/results/crypto/institutional_perp_full_report.html
   - results/crypto/institutional_perp_walkforward.csv
   - results/crypto/institutional_perp_montecarlo.csv

🚀 Strategy is ready for deployment if all components show positive results.
